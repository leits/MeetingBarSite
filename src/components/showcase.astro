---
import { getCollection } from "astro:content";
import ContentSection from "~/components/content-section.astro";
import ShowcaseCard from "~/components/showcase-card.astro";

const featuredSites = await getCollection(
  "showcase",
  ({ data }) => "featured" in data
);
const orderedSites = featuredSites.sort(
  (a, b) => a.data.featured! - b.data.featured!
);
---

<ContentSection title="Issues?" id="contact">
  <Fragment slot="lead">
    If you have any problems with MeetingBar, fill out the form.
  </Fragment>
  <form
    class="w-full max-w-lg"
    action="https://formspree.io/f/xoqkgrnw"
    method="POST"
  >
    <div class="-mx-3 mb-6 flex flex-wrap">
      <div class="w-full px-3">
        <label
          class="mb-2 block font-bold uppercase tracking-wide text-xs"
          for="grid-password"
        >
          E-mail
        </label>
        <input
          class="mb-3 block w-full appearance-none rounded border border-gray-200 bg-gray-200 px-4 py-3 leading-tight focus:border-gray-500 focus:bg-white focus:outline-none text-black"
          id="email"
          type="email"
          name="email"
        />
      </div>
    </div>
    <div class="-mx-3 mb-6 flex flex-wrap">
      <div class="w-full px-3">
        <label
          class="mb-2 block font-bold uppercase tracking-wide text-xs"
          for="grid-password"
        >
          Message
        </label>
        <textarea
          class="no-resize mb-3 block h-48 w-full resize-none appearance-none rounded border border-gray-200 bg-gray-200 px-4 py-3 leading-tight focus:border-gray-500 focus:bg-white focus:outline-none text-black"
          id="message"
          name="message"></textarea>
      </div>
    </div>
    <div class="md:flex md:items-center">
      <div class="md:w-1/3">
        <button
          class="text-white bg-gradient-to-r from-purple-500 via-fuchsia-500 to-pink-500 hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
          type="submit"
          data-umami-event="Feedback"
        >
          Send
        </button>
      </div>
      <div class="md:w-2/3"></div>
    </div>
  </form>
</ContentSection>
